<%= semantic_form_for CarryingBill.search,:remote => params[:not_remote].blank?,:html => {:id => "search_bill_form",:method => :get,:style => "width : 400px;" } do |f|%>
  <%= hidden_field_tag :direction,params[:direction] %>
  <%= hidden_field_tag :sort,params[:sort] %>
  <%= hidden_field_tag :show_fields,params[:show_fields] %>
  <%= hidden_field_tag :hide_fields,params[:hide_fields] %>
  <%= hidden_field_tag :set_disable,params[:set_disable] %>
  <%if params[:search].present?%>
    <%params[:search].each do |search_key,search_val|%>
      <%if search_val.is_a? Array%>
        <%search_val.each do |a|%>
          <%= f.hidden_field "#{search_key}][",:value => a %>
        <%end%>
      <%else%>
        <%= f.hidden_field search_key,:value => search_val %>
      <%end%>
    <%end%>
  <%end%>
  <%= f.inputs do %>
    <%= f.input :bill_no_or_goods_no_or_from_customer_name_or_to_customer_name_or_from_customer_phone_or_to_customer_phone_like,:label =>"关键字",:hint => "票据号/货号/发货人/收货人/电话",:input_html => {:size => 30,:id => "keyword"} %>
    <%= f.input params[:bill_date_gte].present? ? params[:bill_date_gte] : :bill_date_gte,:label => "票据日期",:as => :string,:input_html =>{:class => 'datepicker',:size => 20,:readonly => true,:value => Date.today} %>
    <%= f.input params[:bill_date_lte].present? ? params[:bill_date_lte] : :bill_date_lte,:label => "~",:as => :string,:input_html =>{:class => 'datepicker',:size => 20,:readonly => true,:value => Date.today.tomorrow} %>
    <%= f.input :from_org_id_eq,:label => "发货地",:as => :select,:collection => branches_for_select %>

    <%= f.input :to_org_id_or_transit_org_id_eq,:label =>"到货地",:as => :select,:collection => branches_for_select %>

    <%= f.input :pay_type_eq,:label => "支付方式",:as => :select,:collection => CarryingBill.pay_types %>
    <%= f.input :state_eq,:label => "票据状态",:as => :select,:collection => states_for_select  %>
    <%= f.input :from_short_fee_state_eq,:label => "发货短途费状态",:as => :select,:collection => short_fee_states_for_select  %>
    <%= f.input :to_short_fee_state_eq,:label => "到货短途费状态",:as => :select,:collection => short_fee_states_for_select  %>
    <%= f.input :from_short_carrying_fee_gte,:label => "仅查询有发货短途费票据",:as => :boolean,:checked_value=> 0.1,:unchecked_value => 0 %>
    <%= f.input :to_short_carrying_fee_gte,:label => "仅查询有到货短途费票据",:as => :boolean,:checked_value=> 0.1,:unchecked_value => 0 %>
    <%= f.input "completed_eq",:label => "查询历史运单",:as => :boolean %>
  <% end %>
  <%=f.buttons do %>
    <%=submit_tag "查询运单",:class => "sexybutton sexysimple sexyblue" %>
  <% end %>
<% end%>
